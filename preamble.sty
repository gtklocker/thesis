\ProvidesPackage{preamble}

\usepackage[english]{babel}

\usepackage{cite}
% \usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}

\usepackage{amsmath}
% \let\proof\relax
% \let\endproof\relax
\usepackage{amsfonts}
\usepackage{amssymb}
\PassOptionsToPackage{hyphens}{url}\usepackage[colorlinks=true,allcolors=blue]{hyperref}
\usepackage{mathtools}
\usepackage{lmodern}
\usepackage{listings}
\usepackage{import}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{varwidth}
\usepackage{enumitem}
\usepackage{thmtools}
\usepackage{thm-restate}

\usepackage{geometry}
\geometry{
    a4paper,         % or letterpaper
    textwidth=15cm,  % llncs has 12.2cm
    textheight=24cm, % llncs has 19.3cm
    heightrounded,   % integer number of lines
    hratio=1:1,      % horizontally centered
    vratio=2:3,      % not vertically centered
}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\e}{\varepsilon}
\newcommand{\vectorx}{\ensuremath{\mathbf x}}
\def\defeq{\stackrel{\text{\tiny def}}{=}}
\def\Let#1#2{\State $#1\gets#2$}
\def\shrink{\mathop{\rm shrink}}
\def\len{\mathop{\rm len}}
\def\chain{\mathcal{C}}
\let\rest\lceil
\let\suffix\rceil

\newcommand{\Qed}{
    \iftwocolumn
    \else
        \Qed
    \fi
}

\algblockdefx[Operator]{Operator}{EndOperator}
[1]{\textbf{operator #1}}
[0]{\textbf{end operator}}

\usepackage[]{xcolor}
\usepackage{color}

\newcommand{\anote}[1]{{\color{magenta}[Andrew:{#1}]}}
\newcommand{\aknote}[1]{{\color{magenta}[Aggelos:{#1}]}}
\newcommand{\dznote}[1]{{\color{magenta}[Dionysis: {#1}]}}
\newcommand{\ignore}[1]{}

\newcommand{\upchain}{\negthickspace\uparrow}
\newcommand{\downchain}{\negthickspace\downarrow\,}

%code options with \lstlisting
\lstset{frame=tb,
  showstringspaces=false,
  columns=flexible,
  basicstyle=\ttfamily,
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3,
  escapeinside={(*@}{@*)},
  frame=n
}
\lstdefinestyle{numbers}{numbers=left, stepnumber=1, numberstyle=\tiny, numbersep=10pt}
\let\origthelstnumber\thelstnumber
\makeatletter
\newcommand*\Suppressnumber{%
  \lst@AddToHook{OnNewLine}{%
    \let\thelstnumber\relax%
     \advance\c@lstnumber-\@ne\relax%
    }%
}

\newcommand*\Reactivatenumber{%
  \lst@AddToHook{OnNewLine}{%
   \let\thelstnumber\origthelstnumber%
   \advance\c@lstnumber\@ne\relax}%
}

\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
                       {-18\p@ \@plus -4\p@ \@minus -4\p@}%
                       {0.5em \@plus 0.22em \@minus 0.1em}%
                       {\normalfont\normalsize\bfseries\boldmath}}

%eliminate section numbering from \subsection
%\renewcommand{\thesubsection}{\arabic{subsection}}

%page style set to plain
%pagestyle{plain}

%bibliography style set to splncs
%\bibliographystyle{splncs}
\bibliographystyle{plain}

\usepackage{xcolor}
\usepackage{listings}

\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{CStyle}{
    backgroundcolor=\color{backgroundColour},   
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=C
}

\lstdefinestyle{PyStyle}{
    backgroundcolor=\color{backgroundColour},   
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=Python
}

\lstdefinestyle{JsStyle}{
    backgroundcolor=\color{backgroundColour},   
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=Java
}


\newcommand{\CommentLine}[1]{ \State $\triangleright  \textit{#1}$ }

\MakeRobust{\Call}

\def\code#1{\texttt{#1}}
